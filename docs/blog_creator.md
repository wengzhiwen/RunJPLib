# blog生成器

这是一个Admin后台的功能，根据用户的输入生成blog（markdown）并保存到MongoDB中。

Admin用户可以在后台编辑blog，并update到MongoDB中。

## 生成的方式

 - 提供一个大学输入+搜索的混合文本框，让用户快速选择blog针对的0-N所大学。上方应该有已经选择的大学的列表（像tag一样排列），可以点击X按钮删除
 - 提供一个提示词输入框，让用户输入该篇blog的提示词
 - 提供一个系统提示词输入框，里面默认是本系统已经既定的提示词，但用户可以随意修改，用户修改系统提示词只影响当前blog的生成，不会进行持久化
 - 用户既可以针对特定大学启动blog撰写也可以只用提示词启动撰写
 - 当用户有选择特定的大学时，该大学相关的原始数据（该大学的招生信息的日文原版）应该被一起输入给AI Agent

完成生成后，生成结果将被展示给用户供用户进行编辑。不需要引入Markdown编辑器，直接让Admin用户编辑Markdown原文即可。
此外，现已支持在未进行AI生成时，管理员直接输入标题与Markdown内容并保存。
当用户点击保存时，才将这篇blog真正提交到mongoDB进行保存（同时也向外部用户进行展示）。

## 从已有的参考代码中移行

ref文件夹中原本是一个独立的项目，专门为本项目（RunJPLib）生成数据。

这次的目标是参考既有的代码，对RunJPLib的Admin后台进行开发。

开发完成后，原有的项目会被废弃，转而只使用RunJPLib的Admin后台。

注意：ref文件夹只是一个参考用的文件夹，最后会被删除，不要直接从正式代码中直接链接到ref文件夹中。

## 和blog生成有关的参考代码

主要是 ref/blog_writer.py ，也有周边的其他引用，请在开发前逐一确认。

## 关于AI的使用

为了完成移行工作，你可能需要在 requirements.txt 中追加引用，并通过 pip install -r来安装。

相应的，env文件中也需要补充与AI相关的设定，你可能无法直接访问 .env 文件。请将所有的设定项目写到到文档中，我会根据文档补充env文件。

## 其他注意事项

 - 日志系统应该根据RunJPLib的使用习惯来整合，而不是照搬
 - ref文件夹中还有很多与大学招生信息相关的处理代码，不在本次的需求范围之内，可以进行参考，但不要扩大我的需求